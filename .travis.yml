osx_image: xcode11.5
language: objective-c
cache:
  directories:
    - bundler
    - vendor/bundle
env:
  global:
    - LC_CTYPE=en_US.UTF-8
    - LANG=en_US.UTF-8
    - FRAMEWORK_NAME="SwiftRex"
install:
  - bundle install --path vendor/bundle
  - brew install mint
  - mint bootstrap
script:
  - make lint-check
  - make test
  - make code-coverage-summary
  - make code-coverage-file
after_success:
  - bash <(curl -s https://codecov.io/bash) -X xcodellvm -X gcov -f coverage.txt
